<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lanou.mapper.FactoryMapper">
	<cache /><!-- 开启二级缓存 -->
	<resultMap id="BaseResultMap" type="com.lanou.entity.Factory">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:47:56 CST 2018. -->
		<id column="FACTORY_ID" jdbcType="VARCHAR" property="FACTORY_ID" />
		<result column="FULL_NAME" jdbcType="VARCHAR" property="FULL_NAME" />
		<result column="FACTORY_NAME" jdbcType="VARCHAR" property="FACTORY_NAME" />
		<result column="CONTACTS" jdbcType="VARCHAR" property="CONTACTS" />
		<result column="PHONE" jdbcType="VARCHAR" property="PHONE" />
		<result column="MOBILE" jdbcType="VARCHAR" property="MOBILE" />
		<result column="FAX" jdbcType="VARCHAR" property="FAX" />
		<result column="CNOTE" jdbcType="VARCHAR" property="CNOTE" />
		<result column="INSPECTOR" jdbcType="VARCHAR" property="INSPECTOR" />
		<result column="ORDER_NO" jdbcType="DECIMAL" property="ORDER_NO" />
		<result column="STATE" jdbcType="CHAR" property="STATE" />
		<result column="CREATE_BY" jdbcType="VARCHAR" property="CREATE_BY" />
		<result column="CREATE_DEPT" jdbcType="VARCHAR" property="CREATE_DEPT" />
		<result column="CREATE_TIME" jdbcType="TIMESTAMP" property="CREATE_TIME" />
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:47:56 CST 2018. -->
		FACTORY_ID, FULL_NAME, FACTORY_NAME, CONTACTS, PHONE, MOBILE, FAX,
		CNOTE, INSPECTOR,
		ORDER_NO, STATE, CREATE_BY, CREATE_DEPT, CREATE_TIME
	</sql>


	<!-- 888888888888888888888888888888888888888888888888888888888888888888 -->


	<!-- 动态查询 一页显示的内容 -->
	<select id="selestPageByFactory" parameterType="java.util.Map"
		resultMap="BaseResultMap">

		select * from (
		select * from(
		select t1.* from(
		select rownum rn
		,t.FACTORY_ID,t.FULL_NAME,t.FACTORY_NAME,t.CONTACTS
		,t.PHONE,t.MOBILE,
		t.FAX,t.CNOTE,t.INSPECTOR,t.state
		from FACTORY_C t where t.state='1'
		and 1=1
		<if test="FULL_NAME!=null and FULL_NAME != '' ">
			and t.FULL_NAME like concat(concat('%',#{FULL_NAME}),'%')
		</if>
		<if test="FACTORY_NAME!=null  ">
			and t.FACTORY_NAME like
			concat(concat('%',#{FACTORY_NAME}),'%')
		</if>
		<if test="CONTACTS!=null  ">
			and t.CONTACTS like concat(concat('%',#{CONTACTS}),'%')
		</if>
		<if test="PHONE!=null ">
			and t.PHONE like concat(concat('%',#{PHONE}),'%')
		</if>
		<if test="MOBILE!=null ">
			and t.MOBILE like concat(concat('%',#{MOBILE}),'%')
		</if>
		<if test="FAX!=null ">
			and t.FAX like concat(concat('%',#{FAX}),'%')
		</if>
		<if test="CNOTE!=null">
			and t.CNOTE like concat(concat('%',#{CNOTE}),'%')
		</if>
		order by t.create_time
		) t1 where t1.rn   <![CDATA[>=]]>
		#{start}
		) t2 where t2.rn   <![CDATA[<=]]>
		#{end}
		) t3

	</select>

	<!-- 查询总条数 -->
	<select id="selectPageCount" parameterType="java.util.Map"
		resultType="java.lang.Integer">
		select count(cc.FACTORY_ID) from FACTORY_C cc where cc.state='1' and
		1=1
		<if test="FULL_NAME!=null ">
			and cc.FULL_NAME like '%'||#{FULL_NAME}||'%'
		</if>
		<if test="FACTORY_NAME!=null  ">
			and cc.FACTORY_NAME like '%'||#{FACTORY_NAME}||'%'
		</if>
		<if test="CONTACTS!=null  ">
			and cc.CONTACTS like '%'||#{CONTACTS}||'%'
		</if>
		<if test="PHONE!=null ">
			and cc.PHONE like '%'||#{PHONE}||'%'
		</if>
		<if test="MOBILE!=null ">
			and cc.MOBILE like '%'||#{MOBILE}||'%'
		</if>
		<if test="FAX!=null ">
			and cc.FAX like '%'||#{FAX}||'%'
		</if>
		<if test="CNOTE!=null">
			and cc.CNOTE like '%'||#{CNOTE}||'%'
		</if>


	</select>

	<!-- 查询所有 -->
	<select id="selectAll" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from FACTORY_C <!-- order by create_time -->
	</select>

	<!-- 根据id查询factory -->
	<select id="selectFactoryByID" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from FACTORY_C
		where FACTORY_ID = #{FACTORY_ID}
	</select>
	<!-- 根据id删除factory -->
	<delete id="deleteFactoryByID" parameterType="java.lang.String">
		delete from
		FACTORY_C
		where FACTORY_ID = #{FACTORY_ID,jdbcType=VARCHAR}
	</delete>

	<!-- 888888888888888888888888888888888888888888888888888888888888888888 -->



	<insert id="insert" parameterType="com.lanou.entity.Factory">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:47:56 CST 2018. -->
		insert into FACTORY_C (FACTORY_ID, FULL_NAME, FACTORY_NAME,
		CONTACTS,
		PHONE, MOBILE,
		FAX, CNOTE, INSPECTOR,
		ORDER_NO, STATE, CREATE_BY,
		CREATE_DEPT, CREATE_TIME)
		values (#{FACTORY_ID,jdbcType=VARCHAR},
		#{FULL_NAME,jdbcType=VARCHAR},
		#{FACTORY_NAME,jdbcType=VARCHAR},
		#{CONTACTS,jdbcType=VARCHAR}, #{PHONE,jdbcType=VARCHAR},
		#{MOBILE,jdbcType=VARCHAR},
		#{FAX,jdbcType=VARCHAR},
		#{CNOTE,jdbcType=VARCHAR},
		#{INSPECTOR,jdbcType=VARCHAR},
		#{ORDER_NO,jdbcType=DECIMAL}, #{STATE,jdbcType=CHAR},
		#{CREATE_BY,jdbcType=VARCHAR},
		#{CREATE_DEPT,jdbcType=VARCHAR},
		#{CREATE_TIME,jdbcType=TIMESTAMP})
	</insert>
	<insert id="insertSelective" parameterType="com.lanou.entity.Factory">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:47:56 CST 2018. -->
		insert into FACTORY_C
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="FACTORY_ID != null">
				FACTORY_ID,
			</if>
			<if test="FULL_NAME != null">
				FULL_NAME,
			</if>
			<if test="FACTORY_NAME != null">
				FACTORY_NAME,
			</if>
			<if test="CONTACTS != null">
				CONTACTS,
			</if>
			<if test="PHONE != null">
				PHONE,
			</if>
			<if test="MOBILE != null">
				MOBILE,
			</if>
			<if test="FAX != null">
				FAX,
			</if>
			<if test="CNOTE != null">
				CNOTE,
			</if>
			<if test="INSPECTOR != null">
				INSPECTOR,
			</if>
			<if test="ORDER_NO != null">
				ORDER_NO,
			</if>
			<if test="STATE != null">
				STATE,
			</if>
			<if test="CREATE_BY != null">
				CREATE_BY,
			</if>
			<if test="CREATE_DEPT != null">
				CREATE_DEPT,
			</if>
			<if test="CREATE_TIME != null">
				CREATE_TIME,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="FACTORY_ID != null">
				#{FACTORY_ID,jdbcType=VARCHAR},
			</if>
			<if test="FULL_NAME != null">
				#{FULL_NAME,jdbcType=VARCHAR},
			</if>
			<if test="FACTORY_NAME != null">
				#{FACTORY_NAME,jdbcType=VARCHAR},
			</if>
			<if test="CONTACTS != null">
				#{CONTACTS,jdbcType=VARCHAR},
			</if>
			<if test="PHONE != null">
				#{PHONE,jdbcType=VARCHAR},
			</if>
			<if test="MOBILE != null">
				#{MOBILE,jdbcType=VARCHAR},
			</if>
			<if test="FAX != null">
				#{FAX,jdbcType=VARCHAR},
			</if>
			<if test="CNOTE != null">
				#{CNOTE,jdbcType=VARCHAR},
			</if>
			<if test="INSPECTOR != null">
				#{INSPECTOR,jdbcType=VARCHAR},
			</if>
			<if test="ORDER_NO != null">
				#{ORDER_NO,jdbcType=DECIMAL},
			</if>
			<if test="STATE != null">
				#{STATE,jdbcType=CHAR},
			</if>
			<if test="CREATE_BY != null">
				#{CREATE_BY,jdbcType=VARCHAR},
			</if>
			<if test="CREATE_DEPT != null">
				#{CREATE_DEPT,jdbcType=VARCHAR},
			</if>
			<if test="CREATE_TIME != null">
				#{CREATE_TIME,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>

	<update id="updateByPrimaryKeySelective" parameterType="com.lanou.entity.Factory">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:47:56 CST 2018. -->
		update FACTORY_C
		<set>
			<if test="FULL_NAME != null and FULL_NAME!='' ">
				FULL_NAME = #{FULL_NAME,jdbcType=VARCHAR},
			</if>
			<if test="FACTORY_NAME != null and FACTORY_NAME != ''">
				FACTORY_NAME = #{FACTORY_NAME,jdbcType=VARCHAR},
			</if>
			<if test="CONTACTS != null and CONTACTS != ''">
				CONTACTS = #{CONTACTS,jdbcType=VARCHAR},
			</if>
			<if test="PHONE != null and PHONE != ''">
				PHONE = #{PHONE,jdbcType=VARCHAR},
			</if>
			<if test="MOBILE != null and MOBILE != ''">
				MOBILE = #{MOBILE,jdbcType=VARCHAR},
			</if>
			<if test="FAX != null and FAX != '' ">
				FAX = #{FAX,jdbcType=VARCHAR},
			</if>
			<if test="CNOTE != null and CNOTE != '' ">
				CNOTE = #{CNOTE,jdbcType=VARCHAR},
			</if>
			<if test="INSPECTOR != null and INSPECTOR != '' ">
				INSPECTOR = #{INSPECTOR,jdbcType=VARCHAR},
			</if>
			<if test="ORDER_NO != null and ORDER_NO != '' ">
				ORDER_NO = #{ORDER_NO,jdbcType=DECIMAL},
			</if>
			<if test="STATE != null and STATE != ''">
				STATE = #{STATE,jdbcType=CHAR},
			</if>
			<if test="CREATE_BY != null and CREATE_BY != '' ">
				CREATE_BY = #{CREATE_BY,jdbcType=VARCHAR},
			</if>
			<if test="CREATE_DEPT != null and  CREATE_DEPT != '' ">
				CREATE_DEPT = #{CREATE_DEPT,jdbcType=VARCHAR},
			</if>
			<if test="CREATE_TIME != null and  CREATE_TIME != '' ">
				CREATE_TIME = #{CREATE_TIME,jdbcType=TIMESTAMP},
			</if>
		</set>
		where FACTORY_ID = #{FACTORY_ID,jdbcType=VARCHAR}
	</update>

	<update id="updateByPrimaryKey" parameterType="com.lanou.entity.Factory">
		<!-- WARNING - @mbg.generated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Mon Jan 08 
			14:47:56 CST 2018. -->
		update FACTORY_C
		set FULL_NAME = #{FULL_NAME,jdbcType=VARCHAR},
		FACTORY_NAME = #{FACTORY_NAME,jdbcType=VARCHAR},
		CONTACTS =
		#{CONTACTS,jdbcType=VARCHAR},
		PHONE = #{PHONE,jdbcType=VARCHAR},
		MOBILE
		= #{MOBILE,jdbcType=VARCHAR},
		FAX = #{FAX,jdbcType=VARCHAR},
		CNOTE =
		#{CNOTE,jdbcType=VARCHAR},
		INSPECTOR = #{INSPECTOR,jdbcType=VARCHAR},
		ORDER_NO = #{ORDER_NO,jdbcType=DECIMAL},
		STATE =
		#{STATE,jdbcType=CHAR},
		CREATE_BY = #{CREATE_BY,jdbcType=VARCHAR},
		CREATE_DEPT = #{CREATE_DEPT,jdbcType=VARCHAR},
		CREATE_TIME =
		#{CREATE_TIME,jdbcType=TIMESTAMP}
		where FACTORY_ID =
		#{FACTORY_ID,jdbcType=VARCHAR}
	</update>
</mapper>